webpackJsonp([38],{"6Wrg":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Jz7l"),a=s("Dmiw"),d=(s("Fd2+"),{data:function(){return{chosenAddressId:"1",list:[],order:[],orderData:[],orderDetail:""}},methods:{onClickLeft:function(){this.$router.go("-1")},onEdit:function(e,t){this.$router.push("/MyAddress")},onSubmit:function(){var e=this,t={receiver:this.$store.state.orderData.receiver,regions:this.$store.state.orderData.regions,address:this.$store.state.orderData.address,orderDetails:this.$store.state.orderDetail};r.a.newOrder(t).then(function(t){"success"==t.data.code&&e.$toast(t.data.message)})}},mounted:function(){var e=this;JSON.parse(localStorage.getItem("orderList"));this.order=this.$store.state.order,this.$store.state.orderDetail=this.order.map(function(e,t){return{quantity:Number(e.num),product:""+e.pid,price:Number((e.price/100).toFixed(2))}}),this.$store.state.defaultAddress?a.a.getOneAddress(this.$store.state.defaultAddress).then(function(t){e.list=[{id:"1",name:""+t.data.receiver,tel:""+t.data.mobile,address:""+t.data.regions+t.data.address}],e.$store.state.orderData={receiver:""+t.data.receiver,regions:""+t.data.regions,address:""+t.data.address}}):r.a.getAdress().then(function(t){e.list=[{id:"1",name:""+t.data.addresses[0].receiver,tel:""+t.data.addresses[0].mobile,address:""+t.data.addresses[0].regions+t.data.addresses[0].address}],e.$store.state.orderData={receiver:""+t.data.addresses[0].receiver,regions:""+t.data.addresses[0].regions,address:""+t.data.addresses[0].address}})}}),i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"box"}},[s("van-nav-bar",{staticClass:"sportshoes",attrs:{title:"结算订单","left-arrow":""},on:{"click-left":e.onClickLeft}}),e._v(" "),s("section",[s("van-address-list",{attrs:{list:e.list},on:{edit:e.onEdit}}),e._v(" "),s("div",[s("p",{staticStyle:{width:"100%","border-bottom":"1px solid black",height:"24px","padding-left":"10px"}},[e._v("商品详情")]),e._v(" "),e._l(e.order,function(e,t){return s("van-card",{key:t,attrs:{num:e.num,price:(e.price/100).toFixed(2),desc:e.title,thumb:e.thumb}})})],2),e._v(" "),s("van-submit-bar",{attrs:{price:this.$store.state.sum,"button-text":"提交订单"},on:{submit:e.onSubmit}})],1),e._v(" "),s("footer")],1)},staticRenderFns:[]};var o=s("VU/8")(d,i,!1,function(e){s("gBxi")},"data-v-20b75578",null);t.default=o.exports},gBxi:function(e,t){}});
//# sourceMappingURL=38.11bf641805fa5ec27856.js.map