{"version":3,"sources":["webpack:///src/views/PayOrder.vue","webpack:///./src/views/PayOrder.vue?ca48","webpack:///./src/views/PayOrder.vue"],"names":["PayOrder","data","chosenAddressId","list","order","orderData","orderDetail","methods","onClickLeft","this","$router","go","onEdit","item","index","push","onSubmit","_this","receiver","$store","state","regions","address","orderDetails","api_try","newOrder","then","res","code","$toast","message","mounted","_this2","JSON","parse","localStorage","getItem","map","i","quantity","Number","num","product","pid","price","toFixed","defaultAddress","api_zhang","getOneAddress","id","name","tel","mobile","getAdress","addresses","views_PayOrder","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","title","left-arrow","on","click-left","_v","edit","staticStyle","width","border-bottom","height","padding-left","_l","key","desc","thumb","sum","button-text","submit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/38.11bf641805fa5ec27856.js","sourcesContent":["<template>\r\n  <div id=\"box\">\r\n        <van-nav-bar class=\"sportshoes\"\r\n            title=\"结算订单\"\r\n            left-arrow\r\n            @click-left=\"onClickLeft\"\r\n            />\r\n        <section>\r\n            <van-address-list\r\n                :list=\"list\"\r\n                @edit=\"onEdit\"\r\n                \r\n            />\r\n            <div>\r\n                <p style=\"width:100%;border-bottom:1px solid black;height:24px;padding-left:10px;   \">商品详情</p>\r\n                <van-card \r\n                        v-for='(item,i) in order'\r\n                        :key='i'\r\n                        :num=\"item.num\"\r\n                        :price=\"(item.price / 100).toFixed(2)\"\r\n                        :desc=\"item.title\"  \r\n                        :thumb=\"item.thumb\"\r\n                    />\r\n            </div>\r\n            <van-submit-bar\r\n                :price=\"this.$store.state.sum\"\r\n                button-text=\"提交订单\"\r\n                @submit=\"onSubmit\"\r\n            />\r\n        </section>\r\n       <footer></footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/api_try'\r\nimport api2 from '../api/api_zhang'\r\nimport {Toast} from 'vant'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            chosenAddressId: '1',\r\n            list: [\r\n                // {\r\n                // id: '1',\r\n                // name: '张三',\r\n                // tel: '13000000000',\r\n                // address: '浙江省杭州市西湖区文三路 138 号东方通信大厦 7 楼 501 室'\r\n                // }\r\n            ],\r\n            order:[],\r\n            orderData:[],\r\n            orderDetail:''\r\n           \r\n        }\r\n    },\r\n    methods:{\r\n        onClickLeft() {\r\n            // console.log('fanhui')\r\n            this.$router.go('-1')\r\n        },\r\n      \r\n\r\n        onEdit(item, index) {\r\n            // console.log('跳转到地址')\r\n            this.$router.push('/MyAddress')\r\n        },\r\n        onSubmit(){\r\n            // console.log('提交订单')\r\n            let data = {\r\n                receiver: this.$store.state.orderData.receiver,    \r\n                regions:this.$store.state.orderData.regions   ,\r\n                address:this.$store.state.orderData.address     ,\r\n                orderDetails:this.$store.state.orderDetail\r\n                \r\n            }\r\n            // console.log(data)\r\n            api.newOrder(data).then(res=>{\r\n                // console.log(res)\r\n                if(res.data.code=='success'){\r\n                   this.$toast(res.data.message)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n        \r\n        let orderList = JSON.parse(localStorage.getItem('orderList'))\r\n            this.order = this.$store.state.order\r\n            // console.log(this.order)\r\n\r\n        \r\n        this.$store.state.orderDetail = this.order.map(function(item,i){\r\n            return {\r\n                quantity:Number(item.num),  \r\n                product:`${item.pid}`,  \r\n                price:Number((item.price / 100).toFixed(2))   \r\n            }\r\n        })\r\n        \r\n        if(this.$store.state.defaultAddress){\r\n            // console.log('1')\r\n            api2.getOneAddress(this.$store.state.defaultAddress).then(res=>{\r\n                // console.log(res.data)\r\n                this.list = [{\r\n                    id: '1',\r\n                    name: `${res.data.receiver}`,\r\n                    tel:`${res.data.mobile}`,\r\n                    address: `${res.data.regions}${res.data.address}`\r\n                }]\r\n                this.$store.state.orderData = {\r\n                receiver:`${res.data.receiver}`,      //收货人\r\n                regions:`${res.data.regions}`,       //收货的省市区县\r\n                address: `${res.data.address}`, \r\n                }  \r\n            })\r\n        }else{\r\n            // console.log(2)\r\n            api.getAdress().then(res=>{\r\n                this.list = [{\r\n                    id: '1',\r\n                    name: `${res.data.addresses[0].receiver}`,\r\n                    tel:`${res.data.addresses[0].mobile}`,\r\n                    address: `${res.data.addresses[0].regions}${res.data.addresses[0].address}`\r\n                }]\r\n                this.$store.state.orderData = {\r\n                receiver:`${res.data.addresses[0].receiver}`,      //收货人\r\n                regions:`${res.data.addresses[0].regions}`,       //收货的省市区县\r\n                address: `${res.data.addresses[0].address}`, \r\n                }     //收货地址\r\n            })\r\n        }\r\n        \r\n        \r\n\r\n    },  \r\n    \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .van-nav-bar{\r\n        height:60px;\r\n        line-height: 60px;\r\n        background:rgba(0, 0, 0, 0.8);\r\n        \r\n    }\r\n    .van-nav-bar__title{\r\n        color:white;\r\n    }\r\n    .van-nav-bar .van-icon{\r\n        color:white;\r\n    }\r\n    .tab{\r\n        margin:0;\r\n        padding:0;\r\n    }\r\n   .van-tabs__line{\r\n        display: none;\r\n\r\n    }\r\n    .van-address-list{\r\n        height:auto;\r\n        padding:0;\r\n    }\r\n   \r\n    \r\n    #box{\r\n        display:flex;\r\n        height: 100vh;\r\n        width:100%;\r\n        flex-direction: column; \r\n    }\r\n    .sportshoes{\r\n        height: 60px;\r\n    }\r\n    section{\r\n        flex:1;\r\n        overflow: auto;\r\n        /* margin-top: 60px; */\r\n    }\r\n    footer{\r\n        height: 50px;\r\n        background:rgba(0, 0, 0, .2)\r\n    }\r\n    .van-address-list__add{\r\n        display:none;\r\n    }\r\n    .van-radio__icon--round .van-icon{\r\n        display:none\r\n    }\r\n    .van-radio-group{\r\n        border-bottom: 1px solid red;\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/PayOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"box\"}},[_c('van-nav-bar',{staticClass:\"sportshoes\",attrs:{\"title\":\"结算订单\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('section',[_c('van-address-list',{attrs:{\"list\":_vm.list},on:{\"edit\":_vm.onEdit}}),_vm._v(\" \"),_c('div',[_c('p',{staticStyle:{\"width\":\"100%\",\"border-bottom\":\"1px solid black\",\"height\":\"24px\",\"padding-left\":\"10px\"}},[_vm._v(\"商品详情\")]),_vm._v(\" \"),_vm._l((_vm.order),function(item,i){return _c('van-card',{key:i,attrs:{\"num\":item.num,\"price\":(item.price / 100).toFixed(2),\"desc\":item.title,\"thumb\":item.thumb}})})],2),_vm._v(\" \"),_c('van-submit-bar',{attrs:{\"price\":this.$store.state.sum,\"button-text\":\"提交订单\"},on:{\"submit\":_vm.onSubmit}})],1),_vm._v(\" \"),_c('footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20b75578\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/PayOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20b75578\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":37.5}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PayOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PayOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PayOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20b75578\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PayOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20b75578\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/PayOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}