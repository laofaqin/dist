webpackJsonp([16],{PmRt:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s=o("mvHQ"),n=o.n(s),c=o("bOdI"),i=o.n(c),r=o("Jz7l"),l=o("Fd2+"),d={beforeRouteEnter:function(t,e,o){"PayOrder2"===e.name?o(function(t){t.$router.go(-2)}):o()},components:(a={},i()(a,l.n.name,l.n),i()(a,l.f.name,l.f),i()(a,l.j.name,l.j),i()(a,l.b.name,l.b),i()(a,l.c.name,l.c),i()(a,l.l.name,l.l),i()(a,l.m.name,l.m),i()(a,l.g.name,l.g),i()(a,l.i.name,l.i),i()(a,l.h.name,l.h),i()(a,"v-tanchu",function(){return o.e(1).then(o.bind(null,"Sd+Y"))}),a),data:function(){var t;return t={show:!1,goods:{title:"美国伽力果（约680g/3个）",price:2680,express:"免运费",remain:19,thumb:["https://img.yzcdn.cn/public_files/2017/10/24/e5a5a02309a41f9f5def56684808d9ae.jpeg","https://img.yzcdn.cn/public_files/2017/10/24/1791ba14088f9c2be8c610d0a6cc0f93.jpeg"]},sku:{tree:[{k:"尺寸",v:[{id:"30349",name:"37"},{id:"1215",name:"38"},{id:"1193",name:"39"},{id:"1217",name:"40"},{id:"1218",name:"41   "}],k_s:"s1"}],list:[{id:2259,price:103230,s1:"1215",s2:"1193",s3:"0",stock_num:110}],price:"1.00",stock_num:227,collection_id:2261,none_sku:!1,hide_stock:!1}},i()(t,"goods",{title:"测试商品",picture:"https://img.yzcdn.cn/1.jpg"}),i()(t,"skuData",{goodsId:"946755",messages:{message_0:"12",message_1:""},selectedNum:1,selectedSkuComb:{id:2257,price:100,s1:"30349",s2:"1193",s3:"0",stock_num:111}}),t},methods:{formatPrice:function(){return"¥"+(this.goods.price/100).toFixed(2)},onClickCart:function(){this.$router.push("cart")},onClickLeft:function(){this.$router.go(-1)},buy:function(){localStorage.getItem("userInfo")?this.show=!0:this.$router.push("/login")},sorry:function(){Object(l.o)("暂无后续逻辑~")},shoucang:function(){if(localStorage.getItem("fav")){var t=localStorage.getItem("detail"),e=JSON.parse(localStorage.getItem("fav"));-1==e.indexOf(t)&&e.push(localStorage.getItem("detail")),localStorage.setItem("fav",n()(e)),Object(l.o)("收藏成功")}else{var o=[];localStorage.getItem("detail");o.push(localStorage.getItem("detail")),localStorage.setItem("fav",n()(o)),Object(l.o)("收藏成功")}},onBuyClicked:function(){this.$router.push("/PayOrder")},onAddCartClicked:function(){var t=this,e={product:localStorage.getItem("detail"),quantity:this.skuData.selectedNum};r.a.addCart(e).then(function(e){t.show=!1})},close:function(){}},mounted:function(){var t=this;r.a.getDetail(localStorage.getItem("detail")).then(function(e){t.goods.title=e.data.descriptions,t.goods.remain=e.data.quantity,t.goods.price=100*e.data.price,t.goods.thumb=[e.data.coverImg]}),r.a.getDetail(localStorage.getItem("detail")).then(function(e){t.goods.picture=e.data.coverImg,t.sku.price=e.data.price,t.sku.stock_num=e.data.quantity,t.sku.list[0].price=100*e.data.price,t.$store.state.orderDetail=[{quantity:1,product:e.data._id,price:e.data.price}],t.$store.state.order=[{title:e.data.descriptions,num:1,price:100*e.data.price,thumb:e.data.coverImg}],t.$store.state.sum=100*e.data.price})}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"box"}},[o("van-nav-bar",{staticClass:"sportshoes",attrs:{title:"商品详情","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),o("section",[o("div",{staticClass:"goods"},[o("van-swipe",{staticClass:"goods-swipe",attrs:{autoplay:3e3}},t._l(t.goods.thumb,function(t){return o("van-swipe-item",{key:t},[o("img",{attrs:{src:t}})])}),1),t._v(" "),o("van-cell-group",[o("van-cell",[o("div",{staticClass:"goods-title"},[t._v(t._s(t.goods.title))]),t._v(" "),o("div",{staticClass:"goods-price"},[t._v(t._s(t.formatPrice(t.goods.price)))])]),t._v(" "),o("van-cell",{staticClass:"goods-express"},[o("van-col",{attrs:{span:"10"}},[t._v("运费："+t._s(t.goods.express))]),t._v(" "),o("van-col",{attrs:{span:"14"}},[t._v("剩余："+t._s(t.goods.remain))])],1)],1),t._v(" "),o("van-cell-group",{staticClass:"goods-cell-group"},[o("van-cell",{attrs:{value:"进入店铺",icon:"shop-o","is-link":""},on:{click:t.sorry}},[o("template",{slot:"title"},[o("span",{staticClass:"van-cell-text"},[t._v("有赞的店")]),t._v(" "),o("van-tag",{staticClass:"goods-tag",attrs:{type:"danger"}},[t._v("官方")])],1)],2),t._v(" "),o("van-cell",{attrs:{title:"线下门店",icon:"location-o","is-link":""},on:{click:t.sorry}})],1),t._v(" "),o("van-cell-group",{staticClass:"goods-cell-group"},[o("van-cell",{attrs:{title:"查看商品详情","is-link":""},on:{click:t.sorry}})],1),t._v(" "),o("van-goods-action",[o("van-goods-action-icon",{attrs:{icon:"chat-o"},on:{click:t.sorry}},[t._v("客服")]),t._v(" "),o("van-goods-action-icon",{attrs:{icon:"cart-o"},on:{click:t.onClickCart}},[t._v("购物车")]),t._v(" "),o("van-goods-action-icon",{attrs:{icon:"star"},on:{click:t.shoucang}},[t._v("收藏")]),t._v(" "),o("van-goods-action-button",{attrs:{type:"warning"},on:{click:t.sorry}},[t._v("发起砍价")]),t._v(" "),o("van-goods-action-button",{attrs:{type:"danger"},on:{click:t.buy}},[t._v("立即购买")])],1)],1),t._v(" "),t._l(4,function(e){return o("img",{key:e,attrs:{src:t.goods.thumb}})}),t._v(" "),o("van-sku",{attrs:{sku:t.sku,goods:t.goods,"close-on-click-overlay":!0},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked,"close-preview":t.close},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],2)],1)},staticRenderFns:[]};var g=o("VU/8")(d,u,!1,function(t){o("VPH2")},"data-v-759b0362",null);e.default=g.exports},VPH2:function(t,e){}});
//# sourceMappingURL=16.d749e34d7cca0b321636.js.map