{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///src/views/Tanchu.vue","webpack:///./src/views/Tanchu.vue?a7e3","webpack:///./src/views/Tanchu.vue","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js"],"names":["exports","f","Object","getOwnPropertySymbols","__esModule","obj","_assign","__webpack_require__","_assign2","default","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","propertyIsEnumerable","$export","S","F","assign","Tanchu","data","sku","tree","k","v","id","name","k_s","list","price","s1","s2","s3","stock_num","collection_id","none_sku","hide_stock","goods","title","picture","skuData","goodsId","messages","message_0","message_1","selectedNum","selectedSkuComb","computed","extends_default","vuex_esm","methods","onBuyClicked","console","log","this","$router","push","onAddCartClicked","_this","product","localStorage","getItem","quantity","api_try","addCart","then","res","$store","commit","close","mounted","_this2","getDetail","coverImg","state","orderDetail","_id","order","descriptions","num","thumb","sum","views_Tanchu","render","_vm","_h","$createElement","_self","_c","attrs","close-on-click-overlay","on","buy-clicked","add-cart","close-preview","model","value","callback","$$v","show","expression","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","DESCRIPTORS","getKeys","gOPS","pIE","toObject","IObject","$assign","module","A","B","Symbol","K","split","forEach","keys","join","T","aLen","index","getSymbols","isEnum","concat","j"],"mappings":"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","file":"static/js/1.d77fae3566e8aa57d362.js","sourcesContent":["exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 1kS7\n// module chunks = 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = Dd8w\n// module chunks = 1","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = NpIQ\n// module chunks = 1","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.assign.js\n// module id = R4wc\n// module chunks = 1","<template>\r\n    <van-sku\r\n        v-model=\"show\"\r\n        :sku=\"sku\"\r\n        :goods=\"goods\"\r\n        :close-on-click-overlay='true'\r\n        @buy-clicked=\"onBuyClicked\"\r\n        @add-cart=\"onAddCartClicked\"\r\n        @close-preview='close'\r\n    />\r\n</template>\r\n\r\n<script>\r\n\r\nimport api from '../api/api_try'\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n    data() {\r\n        return {\r\n            sku: {\r\n                // 所有sku规格类目与其值的从属关系，比如商品有颜色和尺码两大类规格，颜色下面又有红色和蓝色两个规格值。\r\n                // 可以理解为一个商品可以有多个规格类目，一个规格类目下可以有多个规格值。\r\n                tree: [\r\n                    {\r\n                    k: '尺寸', // skuKeyName：规格类目名称\r\n                    v: [\r\n                        {\r\n                        id: '30349', // skuValueId：规格值 id\r\n                        name: '37', // skuValueName：规格值名称\r\n                        },\r\n                        {\r\n                        id: '1215',\r\n                        name: '38',\r\n                        },\r\n                        {\r\n                        id: '1193',\r\n                        name: '39',\r\n                        },\r\n                        {\r\n                        id: '1217',\r\n                        name: '40',\r\n                        },\r\n                        {\r\n                        id: '1218',\r\n                        name: '41   ',\r\n                        }\r\n                    ],\r\n                    k_s: 's1' // skuKeyStr：sku 组合列表（下方 list）中当前类目对应的 key 值，value 值会是从属于当前类目的一个规格值 id\r\n                    }\r\n                ],\r\n                // 所有 sku 的组合列表，比如红色、M 码为一个 sku 组合，红色、S 码为另一个组合\r\n                list: [\r\n                    {\r\n                    id: 2259, // skuId，下单时后端需要\r\n                    price: 103230, // 价格（单位分）\r\n                    s1: '1215', // 规格类目 k_s 为 s1 的对应规格值 id\r\n                    s2: '1193', // 规格类目 k_s 为 s2 的对应规格值 id\r\n                    s3: '0', // 最多包含3个规格值，为0表示不存在该规格\r\n                    stock_num: 110 // 当前 sku 组合对应的库存\r\n                    }\r\n                ],\r\n                price: '1.00', // 默认价格（单位元）\r\n                stock_num: 227, // 商品总库存\r\n                collection_id: 2261, // 无规格商品 skuId 取 collection_id，否则取所选 sku 组合对应的 id\r\n                none_sku: false, // 是否无规格商品\r\n                \r\n                hide_stock: false // 是否隐藏剩余库存\r\n            },\r\n            goods: {\r\n                // 数据结构见下方文档\r\n                // 商品标题\r\n                title: '测试商品',\r\n                // 默认商品 sku 缩略图\r\n                picture: 'https://img.yzcdn.cn/1.jpg'\r\n            },\r\n            skuData: {\r\n                // 商品 id\r\n                goodsId: '946755',\r\n                // 留言信息\r\n                messages: {\r\n                    message_0: '12',\r\n                    message_1: ''\r\n                },\r\n                // 选择的商品数量\r\n                selectedNum: 1,\r\n                // 选择的 sku 组合\r\n                selectedSkuComb: {\r\n                    id: 2257,\r\n                    price: 100,\r\n                    s1: '30349',\r\n                    s2: '1193',\r\n                    s3: '0',\r\n                    stock_num: 111\r\n                }\r\n            }\r\n        };\r\n    },\r\n    computed:{\r\n        ...mapState(['show'])\r\n    },\r\n    methods:{\r\n        onBuyClicked(){\r\n            console.log('立即购买')\r\n            this.$router.push('/PayOrder')\r\n        },\r\n        onAddCartClicked(){\r\n            console.log('加入购物车')\r\n            let data = {\r\n                product:localStorage.getItem('detail') ,  //商品id\r\n                quantity:this.skuData.selectedNum        //数量(默认值1)\r\n            }\r\n            console.log(this.skuData.selectedNum)\r\n            api.addCart(data).then(res=>{\r\n                console.log(res)\r\n            this.$store.commit('change')\r\n            })\r\n        },\r\n        close(){\r\n            // this.$store.commit('change')\r\n            console.log('关闭')\r\n        }\r\n    },\r\n    mounted(){\r\n        api.getDetail(localStorage.getItem(\"detail\")).then(res => {\r\n            console.log(res)\r\n            this.goods.picture = res.data.coverImg;\r\n            this.sku.price = res.data.price;\r\n            this.sku.stock_num  = res.data.quantity;\r\n            this.sku.list[0].price = res.data.price*100;\r\n\r\n            this.$store.state.orderDetail = [{\r\n                quantity:1,  \r\n                product:res.data._id,  \r\n                price: res.data.price\r\n            }]\r\n\r\n            this.$store.state.order = [{\r\n                title:res.data.descriptions,\r\n                num:1,\r\n                price:res.data.price*100,\r\n                thumb:res.data.coverImg\r\n            }]\r\n\r\n            this.$store.state.sum = res.data.price*100\r\n\r\n        })\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Tanchu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-sku',{attrs:{\"sku\":_vm.sku,\"goods\":_vm.goods,\"close-on-click-overlay\":true},on:{\"buy-clicked\":_vm.onBuyClicked,\"add-cart\":_vm.onAddCartClicked,\"close-preview\":_vm.close},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e8ea214\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Tanchu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e8ea214\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":37.5}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tanchu.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tanchu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tanchu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e8ea214\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tanchu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Tanchu.vue\n// module id = null\n// module chunks = ","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = To3L\n// module chunks = 1","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/assign.js\n// module id = V3tA\n// module chunks = 1","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/assign.js\n// module id = woOf\n// module chunks = 1"],"sourceRoot":""}