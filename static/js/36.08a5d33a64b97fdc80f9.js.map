{"version":3,"sources":["webpack:///src/views/MyFav2.vue","webpack:///./src/views/MyFav2.vue?6db3","webpack:///./src/views/MyFav2.vue"],"names":["MyFav2","components","_components","defineProperty_default","es","name","data","list","one","checkedGoods","goods","inject","methods","deleteFav","console","log","this","arr","JSON","parse","localStorage","getItem","map","i","filter","item","setItem","stringify_default","reload","onClickRight","$router","go","beforeMount","favlist","_this","api_try","getDetail","then","res","push","n","id","_id","title","descriptions","desc","price","Number","num","quantity","thumb","coverImg","pid","mounted","updated","beforeUpdate","views_MyFav2","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click-right","slot","color","_v","model","value","callback","$$v","expression","_l","key","toFixed","button-text","submit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qMAoCAA,GACAC,YAAAC,KAAAC,IAAAD,EACAE,EAAA,EAAAC,KAAAD,EAAA,GADAD,IAAAD,EAEAE,EAAA,EAAAC,KAAAD,EAAA,GAFAD,IAAAD,EAGAE,EAAA,EAAAC,KAAAD,EAAA,GAHAD,IAAAD,EAIAE,EAAA,EAAAC,KAAAD,EAAA,GAJAF,GAMAI,KAPA,WAQA,OACAC,QACAC,IAAA,GACAC,gBACAC,WAKAC,QAAA,UAEAC,SACAC,UADA,WAEAC,QAAAC,IAAA,MACAD,QAAAC,IAAAC,KAAAP,cACA,IACAQ,EAAAC,KAAAC,MAAAC,aAAAC,QAAA,QACAP,QAAAC,IAAAE,GACAD,KAAAP,aAAAa,IAAA,SAAAC,GACAN,IAAAO,OAAA,SAAAC,GACA,OAAAA,GAAAF,MAGAT,QAAAC,IAAAE,GACAG,aAAAM,QAAA,MAAAC,IAAAV,IATAD,KAUAY,UAIAC,aAlBA,WAoBAb,KAAAc,QAAAC,IAAA,KAKAC,YA5CA,WA8CA,IAAAf,EAAAC,KAAAC,MAAAC,aAAAC,QAAA,QAEA,GADAP,QAAAC,IAAAE,GACAA,EAAA,CACA,IAAAgB,KACAC,EAAAlB,KACAC,EAAAK,IAAA,SAAAC,GACAW,EAAA1B,IAAA,MACQ2B,EAAA,EAARC,UAAAb,GAAAc,KAAA,SAAAC,GACAxB,QAAAC,IAAAuB,GACAL,EAAAM,KAAAD,EAAAhC,MACAQ,QAAAC,IAAAkB,GACAC,EAAAxB,MAAAuB,EAAAX,IAAA,SAAAC,EAAAiB,GACA,OACAC,GAAA,GAAAlB,EAAAmB,IACAC,MAAA,GAAApB,EAAAqB,aACAC,KAAA,WACAC,MAAA,GAAAC,OAAA,IAAAxB,EAAAuB,OACAE,IAAA,GAAAzB,EAAA0B,SACAC,MAAA,GAAA3B,EAAA4B,SACAC,IAAA,GAAA7B,EAAAmB,WAKA5B,QAAAC,IAAAC,KAAAN,SAGA2C,QAzEA,WA0EAvC,QAAAC,IAAAC,KAAAN,OACAU,aAAAM,QAAA,YAAAC,IAAAX,KAAAN,SAIA4C,QA/EA,aAkFAC,aAlFA,cCjCeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA1C,KAAa2C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBF,EAAA,UAAAA,EAAA,eAAiCG,OAAOrB,MAAA,QAAesB,IAAKC,cAAAR,EAAA7B,gBAAgCgC,EAAA,YAAiBG,OAAOG,KAAA,QAAA9D,KAAA,GAAA+D,MAAA,SAAyCD,KAAA,UAAcT,EAAAW,GAAA,gBAAAX,EAAAW,GAAA,KAAAR,EAAA,WAAAA,EAAA,sBAA4EE,YAAA,aAAAO,OAAgCC,MAAAb,EAAA,aAAAc,SAAA,SAAAC,GAAkDf,EAAAjD,aAAAgE,GAAqBC,WAAA,iBAA4BhB,EAAAiB,GAAAjB,EAAA,eAAAjC,GAAmC,OAAAoC,EAAA,gBAA0Be,IAAAnD,EAAAgB,GAAAsB,YAAA,mBAAAC,OAAkD3D,KAAAoB,EAAAgB,MAAgBoB,EAAA,YAAiBG,OAAOrB,MAAAlB,EAAAkB,MAAAE,KAAApB,EAAAoB,KAAAC,OAAArB,EAAAqB,MAAA,KAAA+B,QAAA,GAAA3B,MAAAzB,EAAAyB,UAA4F,KAAM,GAAAQ,EAAAW,GAAA,KAAAR,EAAA,kBAAsCG,OAAOc,cAAA,MAAmBb,IAAKc,OAAArB,EAAA7C,cAAwB,GAAA6C,EAAAW,GAAA,KAAAR,EAAA,aAE5zBmB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnF,EACAwD,GATF,EAVA,SAAA4B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/36.08a5d33a64b97fdc80f9.js","sourcesContent":["<template>\r\n  <div class=\"cart\">\r\n    <header>\r\n      <van-nav-bar\r\n          title=\"我的收藏\"\r\n          @click-right=\"onClickRight\"\r\n        >\r\n        <van-icon name=\"\" slot=\"right\" color='white' >编辑</van-icon>\r\n        </van-nav-bar>\r\n\r\n    </header>\r\n    <section>\r\n      <van-checkbox-group class=\"card-goods\" v-model=\"checkedGoods\">\r\n        <van-checkbox class=\"card-goods__item\" v-for=\"item in goods\" :key=\"item.id\" :name=\"item.id\">\r\n          <van-card\r\n            :title=\"item.title\"\r\n            :desc=\"item.desc\"\r\n            :price=\"(item.price/100).toFixed(2)\"\r\n            :thumb=\"item.thumb\"\r\n          />\r\n        </van-checkbox>\r\n      </van-checkbox-group>\r\n      <van-submit-bar\r\n        button-text=\"删除\"\r\n        @submit=\"deleteFav\"\r\n      />\r\n    </section>\r\n    <footer>\r\n      \r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/api_try'\r\nimport { Checkbox, CheckboxGroup, Card, SubmitBar, Toast } from \"vant\";\r\nexport default {\r\n  components: {\r\n    [Card.name]: Card,\r\n    [Checkbox.name]: Checkbox,\r\n    [SubmitBar.name]: SubmitBar,\r\n    [CheckboxGroup.name]: CheckboxGroup\r\n  },\r\n  data() {\r\n    return {\r\n      list:[],\r\n      one:'',\r\n      checkedGoods: [],\r\n      goods:[]\r\n        \r\n    };\r\n  },\r\n  \r\n  inject:['reload'],\r\n   \r\n  methods: {\r\n    deleteFav(){\r\n      console.log('删除')\r\n      console.log(this.checkedGoods)\r\n      let _this = this\r\n      let arr = JSON.parse(localStorage.getItem('fav'))\r\n      console.log(arr)\r\n      this.checkedGoods.map((i)=>{\r\n        arr = arr.filter(function(item){\r\n          return item!=i\r\n            })\r\n      })\r\n      console.log(arr)\r\n      localStorage.setItem('fav',JSON.stringify(arr))\r\n      _this.reload()\r\n    }\r\n    ,\r\n    \r\n    onClickRight(){\r\n      \r\n      this.$router.go(-1)\r\n      \r\n    }\r\n  },\r\n  \r\n  beforeMount(){\r\n    \r\n    let arr = JSON.parse(localStorage.getItem('fav'))\r\n    console.log(arr)\r\n    if(arr){\r\n      let favlist = []\r\n      let _this = this\r\n      arr.map(function(i){\r\n        _this.one = 'one'\r\n        api.getDetail(i).then(res=>{\r\n          console.log(res)\r\n          favlist.push(res.data)\r\n          console.log(favlist)\r\n          _this.goods=favlist.map((i,n)=>{\r\n            return {\r\n                id:`${i._id}`,\r\n                title: `${i.descriptions}`,\r\n                desc: \"约250g，2根\",\r\n                price:`${Number(i.price*100)}`,\r\n                num:`${i.quantity}`,\r\n                thumb:`${i.coverImg}`,\r\n                pid:`${i._id}`\r\n            }\r\n          })\r\n        })\r\n      })\r\n      console.log(this.goods)\r\n    }\r\n  },\r\n  mounted(){\r\n      console.log(this.goods)\r\n      localStorage.setItem('orderList',JSON.stringify(this.goods))\r\n  },\r\n    \r\n \r\n  updated(){\r\n    \r\n  },\r\n  beforeUpdate(){\r\n   \r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.van-nav-bar {\r\n  height: 60px;\r\n  line-height: 60px;\r\n  background: rgba(0, 0, 0, 0.8);\r\n}\r\n.van-nav-bar__title {\r\n  color: white;\r\n}\r\n.header {\r\n  z-index: 4;\r\n  height: 60px;\r\n  background: black;\r\n  display: flex;\r\n}\r\n.header p {\r\n  color: whitesmoke;\r\n  margin-left: 165px;\r\n  margin-top: 20px;\r\n}\r\n.icon-del {\r\n  color: whitesmoke;\r\n  margin-left: 125px;\r\n  margin-top: 25px;\r\n}\r\n\r\n.van-submit-bar{\r\n  bottom: 50px;\r\n}\r\n.cart{\r\n  height: 87vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\nsection{\r\n  flex:1;\r\n  overflow: auto;\r\n}\r\n.van-tabbar-item{\r\n  height: 10vh;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n.card-goods {\r\n  padding: 10px 0;\r\n  background-color: #fff;\r\n  &__item {\r\n    position: relative;\r\n    background-color: #fafafa;\r\n    .van-checkbox__label {\r\n      width: 100%;\r\n      height: auto; \r\n      padding: 0 10px 0 15px;\r\n      box-sizing: border-box;\r\n    }\r\n    .van-checkbox__icon {\r\n      top: 50%;\r\n      left: 10px;\r\n      z-index: 1;\r\n      position: absolute;\r\n      margin-top: -10px;\r\n    }\r\n    .van-card__price {\r\n      color: #f44;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/MyFav2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_c('header',[_c('van-nav-bar',{attrs:{\"title\":\"我的收藏\"},on:{\"click-right\":_vm.onClickRight}},[_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"\",\"color\":\"white\"},slot:\"right\"},[_vm._v(\"编辑\")])],1)],1),_vm._v(\" \"),_c('section',[_c('van-checkbox-group',{staticClass:\"card-goods\",model:{value:(_vm.checkedGoods),callback:function ($$v) {_vm.checkedGoods=$$v},expression:\"checkedGoods\"}},_vm._l((_vm.goods),function(item){return _c('van-checkbox',{key:item.id,staticClass:\"card-goods__item\",attrs:{\"name\":item.id}},[_c('van-card',{attrs:{\"title\":item.title,\"desc\":item.desc,\"price\":(item.price/100).toFixed(2),\"thumb\":item.thumb}})],1)}),1),_vm._v(\" \"),_c('van-submit-bar',{attrs:{\"button-text\":\"删除\"},on:{\"submit\":_vm.deleteFav}})],1),_vm._v(\" \"),_c('footer')])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-259b1ce8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MyFav2.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-259b1ce8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":37.5}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyFav2.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFav2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFav2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-259b1ce8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyFav2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-259b1ce8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MyFav2.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}